# -*- coding:utf-8 -*-from django import templateimport datetimefrom datetime import datefrom django.db.models import Sumfrom orders_app.models import *register = template.Library()from django.http import QueryDictfrom decimal import *from django.utils import timezonefrom django.utils.timezone import localtime, now#заказчики за день @register.filter(name='get_all_users')			def get_all_users(date):    date = datetime.datetime.strptime(date, '%d.%m.%Y')    users = User.objects.filter(orders__date__date=date).distinct()    return users		#сумма за день@register.filter(name='get_summ')			def get_summ(date):    date = datetime.datetime.strptime(date, '%d.%m.%Y')    summ = Order.objects.filter(date__date=date).aggregate(orders_summ = Sum('summ'))       return summ	    #удалить дубликаты@register.filter(name='delete_dubles')			def delete_dubles(orders):    users = User.objects.filter(orders=orders).distinct()    return users	        